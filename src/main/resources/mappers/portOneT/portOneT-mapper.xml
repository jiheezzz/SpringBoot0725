<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.rubypaper.portoneT.PortOneTDao">

<insert id="insert">
insert into mpay(idx,mpaynum,membernum,mpaymethod,mpayproduct,mpayprice,mpaydate,mpaygym,mpayperiod,mpaytime,trainername,ggoodsnum,tgoodsint,gymnum,cnt)
values(idx.nextval,#{mpaynum},#{membernum},#{mpaymethod},#{mpayproduct},#{mpayprice},sysdate,#{mpaygym},#{mpayperiod},#{mpaytime},#{trainername},#{ggoodsnum},null,#{gymnum},0)
</insert>

<select id="select" resultType="com.rubypaper.portoneT.PortOneTVO">
SELECT idx AS midx,mpaynum,membernum,mpaymethod,mpayproduct,mpayprice,mpaydate,mpaygym,mpayperiod,mpaytime,trainername,ggoodsnum,tgoodsint,gymnum,cnt 
FROM mpay WHERE idx = (SELECT MAX(idx) FROM mpay)
</select>

<select id="edit" >
select idx AS midx,mpaynum,membernum,mpaymethod,mpayproduct,mpayprice,mpaydate,mpaygym,mpayperiod,mpaytime,trainername,ggoodsnum,tgoodsint,gymnum,cnt from mpay where mpaynum=#{mpaynum}
</select>

</mapper>